<!DOCTYPE html>
<html lang="en">
	<head>
		<title>{{.Student.Name}}'s hours</title>
		<link rel="icon" type="image/svg+xml" href="/icons/48.svg" sizes="48x48">
		<link rel="icon" type="image/png" href="/icons/48.png" sizes="48x48">
		<link rel="apple-touch-icon" href="/icons/192.png">
		<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
		
		<meta name="generator" content="Micro: a terminal-based plain text editor">
		<meta name="description" content="Enter your community service hours">
		<meta name="application-name" content="BBCS">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		 
		<link rel="stylesheet" href="style.css">
		<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
		<meta name="theme-color" content="#26428b">
		<link rel="manifest" href="/manifest.json">

		<style>
@media print {
	#add {
		display: none;
	}
}
#hours:empty::after {
	content: "No hours yet :(" /* TODO: Insert a quirky empty state */
}
		</style>
	<body>
		<div class="title {{if .User.Admin}}with-icon{{end}}">
			{{- if .User.Admin}}
				<a href="/admin" class="material-icons icon" aria-label="Back">&#xe5c4;</a>
			{{end -}}
			<h1 style="flex-grow:1">{{.Student.Name}}'s <span class="hide-med">community service</span> hours</h1>
			<span>{{.User.Email}}</span>
			<a href="/signout" class="button light">Sign out</a>		
		</div>
		<div class="title-spacer"></div>
		<main style="color:#fff;background:#aaa"><b>Total</b> 
			<span style="float:right" {{- if lt .Student.Total .Student.Required}} title="{{.Student.Required}} hours recommended by the end of {{.Student.RealGrade}}th grade">
			<span aria-label="Warning" class="material-icons" style="vertical-align:top;margin-right:4px;cursor:default;">&#xe002;</span{{end}}>
			<b>{{.Student.Total}}</b></span></main>
		<ul class="list linked" id="hours">
		{{- $global := .}}
		{{- range $id := .StudentEntriesId}}
			{{- $entry := (index $global.StudentEntries $id)}}
			{{- if $entry}}
				<li><a href="/edit?entry={{$id}}&user={{$global.Student.Email}}">
				{{$entry.Name}}
				<div style="float:right">
				<span style="margin-right:48px">{{$entry.Date.Format "Jan 2, 2006"}}</span>
				<span style="min-width:32px;display:inline-block;text-align:right;">{{$entry.Hours}}</span>
				</div>
				</a></li>
			{{end -}}
		{{end -}}
		</ul>
		<a id="add" href="/add?user={{.Student.Email}}" class="button strong corner">Add</a>		
   </body>
</html>
